<!DOCTYPE html><html style = "font-family:'0xProto Nerd Font'"><head><link rel="stylesheet" href="../../../style.css"></head><body><h2 class="header"><a href="../../../std/core/mem/index.html">Overview</a>&nbsp<a href="../../../std/core/mem/globals.html">Globals</a>&nbsp<a href="../../../std/core/mem/types.html">Types</a>&nbsp<span class="selected">Functions</span>&nbsp</h2><div class="module_path"><h1><a href="../../../std/index.html">std</a>::<a href="../../../std/core/index.html">core</a>::<span style="font-family: 'monospace'">mem</span></h1></div><h1>Public</h1><h2 id="@tclone_slice">@tclone_slice</h2><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_FUNCTION DataType">@tclone_slice</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_IDENT DataType">value</span><span class="DataType_DEFAULT DataType">)</span> <span class="DataType_IDENT DataType">@builtin</span> <span class="DataType_IDENT DataType">@nodiscard</span></code></pre><h2 id="new_array">new_array</h2><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_FUNCTION DataType">new_array</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_DEFAULT DataType">$Type</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">elements</span><span class="DataType_DEFAULT DataType">)</span> <span class="DataType_IDENT DataType">@nodiscard</span></code></pre><h2 id="aligned_pointer">aligned_pointer</h2><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_BUILTIN_TYPE DataType">void</span><span class="DataType_DEFAULT DataType">*</span> <span class="DataType_FUNCTION DataType">aligned_pointer</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_BUILTIN_TYPE DataType">void</span><span class="DataType_DEFAULT DataType">*</span> <span class="DataType_IDENT DataType">ptr</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">alignment</span><span class="DataType_DEFAULT DataType">)</span></code></pre><h2 id="@stack_pool">@stack_pool</h2><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_BUILTIN_TYPE DataType">void</span> <span class="DataType_FUNCTION DataType">@stack_pool</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">$size</span><span class="DataType_DEFAULT DataType">;</span> <span class="DataType_IDENT DataType">@body</span><span class="DataType_DEFAULT DataType">)</span> <span class="DataType_IDENT DataType">@builtin</span></code></pre><h2 id="clear_inline">clear_inline</h2><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_BUILTIN_TYPE DataType">void</span> <span class="DataType_FUNCTION DataType">clear_inline</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_BUILTIN_TYPE DataType">void</span><span class="DataType_DEFAULT DataType">*</span> <span class="DataType_IDENT DataType">dst</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">$len</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">$dst_align</span> <span class="DataType_DEFAULT DataType">=</span> <span class="DataType_NUMBER DataType">0</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">bool</span> <span class="DataType_IDENT DataType">$is_volatile</span> <span class="DataType_DEFAULT DataType">=</span> <span class="DataType_KEYWORD DataType">false</span><span class="DataType_DEFAULT DataType">)</span></code></pre><h2 id="realloc">realloc</h2><pre><code><span class="DataType_KEYWORD DataType">fn</span> <span class="DataType_BUILTIN_TYPE DataType">void</span><span class="DataType_DEFAULT DataType">*</span> <span class="DataType_FUNCTION DataType">realloc</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_BUILTIN_TYPE DataType">void</span> <span class="DataType_DEFAULT DataType">*</span><span class="DataType_IDENT DataType">ptr</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">new_size</span><span class="DataType_DEFAULT DataType">)</span> <span class="DataType_IDENT DataType">@builtin</span> <span class="DataType_IDENT DataType">@inline</span> <span class="DataType_IDENT DataType">@nodiscard</span></code></pre><h2 id="@masked_load_aligned">@masked_load_aligned</h2>Load a vector from memory according to a mask.<br/><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_FUNCTION DataType">@masked_load_aligned</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_IDENT DataType">ptr</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">bool</span><span class="DataType_DEFAULT DataType">[&lt;</span><span class="DataType_DEFAULT DataType">*</span><span class="DataType_DEFAULT DataType">&gt;]</span> <span class="DataType_IDENT DataType">mask</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_IDENT DataType">passthru</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">$alignment</span><span class="DataType_DEFAULT DataType">)</span></code></pre><h2 id="masked_store">masked_store</h2>Store parts of a vector according to the mask, assuming default alignment.<br/><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_FUNCTION DataType">masked_store</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_IDENT DataType">ptr</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_IDENT DataType">value</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">bool</span><span class="DataType_DEFAULT DataType">[&lt;</span><span class="DataType_DEFAULT DataType">*</span><span class="DataType_DEFAULT DataType">&gt;]</span> <span class="DataType_IDENT DataType">mask</span><span class="DataType_DEFAULT DataType">)</span></code></pre><h2 id="malloc_aligned">malloc_aligned</h2>Allocate using an aligned allocation. This is necessary for types with a default memory alignment<br/>exceeding DEFAULT_MEM_ALIGNMENT. IMPORTANT! It must be freed using free_aligned.<br/><pre><code><span class="DataType_KEYWORD DataType">fn</span> <span class="DataType_BUILTIN_TYPE DataType">void</span><span class="DataType_DEFAULT DataType">*</span> <span class="DataType_FUNCTION DataType">malloc_aligned</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">size</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">alignment</span><span class="DataType_DEFAULT DataType">)</span> <span class="DataType_IDENT DataType">@builtin</span> <span class="DataType_IDENT DataType">@inline</span> <span class="DataType_IDENT DataType">@nodiscard</span></code></pre><h2 id="@pool_init">@pool_init</h2><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_BUILTIN_TYPE DataType">void</span> <span class="DataType_FUNCTION DataType">@pool_init</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_TYPE DataType">Allocator</span> <span class="DataType_IDENT DataType">allocator</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">pool_size</span><span class="DataType_DEFAULT DataType">,</span>
	<span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">reserve_size</span> <span class="DataType_DEFAULT DataType">=</span> <span class="DataType_PATH DataType">allocator::</span><span class="DataType_IDENT DataType">temp_allocator_reserve_size</span><span class="DataType_DEFAULT DataType">,</span>
	<span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">min_size</span> <span class="DataType_DEFAULT DataType">=</span> <span class="DataType_PATH DataType">allocator::</span><span class="DataType_IDENT DataType">temp_allocator_min_size</span><span class="DataType_DEFAULT DataType">,</span>
	<span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">realloc_size</span> <span class="DataType_DEFAULT DataType">=</span> <span class="DataType_PATH DataType">allocator::</span><span class="DataType_IDENT DataType">temp_allocator_realloc_size</span><span class="DataType_DEFAULT DataType">;</span> <span class="DataType_IDENT DataType">@body</span><span class="DataType_DEFAULT DataType">)</span> <span class="DataType_IDENT DataType">@builtin</span></code></pre><h2 id="tnew">tnew</h2><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_FUNCTION DataType">tnew</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_DEFAULT DataType">$Type</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_DEFAULT DataType">...</span><span class="DataType_DEFAULT DataType">)</span> <span class="DataType_IDENT DataType">@nodiscard</span></code></pre><h2 id="copy_inline">copy_inline</h2>Copy memory from src to dst efficiently, assuming the memory ranges do not overlap, it<br/>will always be inlined and never call memcopy<br/><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_BUILTIN_TYPE DataType">void</span> <span class="DataType_FUNCTION DataType">copy_inline</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_BUILTIN_TYPE DataType">void</span><span class="DataType_DEFAULT DataType">*</span> <span class="DataType_IDENT DataType">dst</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">void</span><span class="DataType_DEFAULT DataType">*</span> <span class="DataType_IDENT DataType">src</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">$len</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">$dst_align</span> <span class="DataType_DEFAULT DataType">=</span> <span class="DataType_NUMBER DataType">0</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">$src_align</span> <span class="DataType_DEFAULT DataType">=</span> <span class="DataType_NUMBER DataType">0</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">bool</span> <span class="DataType_IDENT DataType">$is_volatile</span> <span class="DataType_DEFAULT DataType">=</span> <span class="DataType_KEYWORD DataType">false</span><span class="DataType_DEFAULT DataType">)</span></code></pre><h2 id="equals">equals</h2>Test if n elements are equal in a slice, pointed to by a pointer etc.<br/><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_BUILTIN_TYPE DataType">bool</span> <span class="DataType_FUNCTION DataType">equals</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_IDENT DataType">a</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_IDENT DataType">b</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">isz</span> <span class="DataType_IDENT DataType">len</span> <span class="DataType_DEFAULT DataType">=</span> <span class="DataType_DEFAULT DataType">-</span><span class="DataType_NUMBER DataType">1</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">$align</span> <span class="DataType_DEFAULT DataType">=</span> <span class="DataType_NUMBER DataType">0</span><span class="DataType_DEFAULT DataType">)</span></code></pre><h2 id="free_aligned">free_aligned</h2><pre><code><span class="DataType_KEYWORD DataType">fn</span> <span class="DataType_BUILTIN_TYPE DataType">void</span> <span class="DataType_FUNCTION DataType">free_aligned</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_BUILTIN_TYPE DataType">void</span><span class="DataType_DEFAULT DataType">*</span> <span class="DataType_IDENT DataType">ptr</span><span class="DataType_DEFAULT DataType">)</span> <span class="DataType_IDENT DataType">@builtin</span> <span class="DataType_IDENT DataType">@inline</span></code></pre><h2 id="set_inline">set_inline</h2>Sets all memory in a region to that of the provided byte. Never calls OS memset.<br/><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_BUILTIN_TYPE DataType">void</span> <span class="DataType_FUNCTION DataType">set_inline</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_BUILTIN_TYPE DataType">void</span><span class="DataType_DEFAULT DataType">*</span> <span class="DataType_IDENT DataType">dst</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">char</span> <span class="DataType_IDENT DataType">val</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">$len</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">$dst_align</span> <span class="DataType_DEFAULT DataType">=</span> <span class="DataType_NUMBER DataType">0</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">bool</span> <span class="DataType_IDENT DataType">$is_volatile</span> <span class="DataType_DEFAULT DataType">=</span> <span class="DataType_KEYWORD DataType">false</span><span class="DataType_DEFAULT DataType">)</span></code></pre><h2 id="tmalloc">tmalloc</h2><pre><code><span class="DataType_KEYWORD DataType">fn</span> <span class="DataType_BUILTIN_TYPE DataType">void</span><span class="DataType_DEFAULT DataType">*</span> <span class="DataType_FUNCTION DataType">tmalloc</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">size</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">alignment</span> <span class="DataType_DEFAULT DataType">=</span> <span class="DataType_NUMBER DataType">0</span><span class="DataType_DEFAULT DataType">)</span> <span class="DataType_IDENT DataType">@builtin</span> <span class="DataType_IDENT DataType">@inline</span> <span class="DataType_IDENT DataType">@nodiscard</span></code></pre><h2 id="calloc_aligned">calloc_aligned</h2>Allocate using an aligned allocation. This is necessary for types with a default memory alignment<br/>exceeding DEFAULT_MEM_ALIGNMENT. IMPORTANT! It must be freed using free_aligned.<br/><pre><code><span class="DataType_KEYWORD DataType">fn</span> <span class="DataType_BUILTIN_TYPE DataType">void</span><span class="DataType_DEFAULT DataType">*</span> <span class="DataType_FUNCTION DataType">calloc_aligned</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">size</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">alignment</span><span class="DataType_DEFAULT DataType">)</span> <span class="DataType_IDENT DataType">@builtin</span> <span class="DataType_IDENT DataType">@inline</span> <span class="DataType_IDENT DataType">@nodiscard</span></code></pre><h2 id="@unaligned_store">@unaligned_store</h2><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_FUNCTION DataType">@unaligned_store</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_IDENT DataType">#x</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_IDENT DataType">value</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">$alignment</span><span class="DataType_DEFAULT DataType">)</span> <span class="DataType_IDENT DataType">@builtin</span></code></pre><h2 id="type_alloc_must_be_aligned">type_alloc_must_be_aligned</h2>Check if an allocation must be aligned given the type.<br/><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_BUILTIN_TYPE DataType">bool</span> <span class="DataType_FUNCTION DataType">type_alloc_must_be_aligned</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_DEFAULT DataType">$Type</span><span class="DataType_DEFAULT DataType">)</span></code></pre><h2 id="__memcpy">__memcpy</h2><pre><code><span class="DataType_KEYWORD DataType">fn</span> <span class="DataType_BUILTIN_TYPE DataType">void</span><span class="DataType_DEFAULT DataType">*</span> <span class="DataType_FUNCTION DataType">__memcpy</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_BUILTIN_TYPE DataType">void</span><span class="DataType_DEFAULT DataType">*</span> <span class="DataType_IDENT DataType">dst</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">void</span><span class="DataType_DEFAULT DataType">*</span> <span class="DataType_IDENT DataType">src</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">n</span><span class="DataType_DEFAULT DataType">)</span> <span class="DataType_IDENT DataType">@weak</span> <span class="DataType_FUNCTION DataType">@export</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_DEFAULT DataType">&quot;</span><span class="DataType_DEFAULT DataType">memcpy</span><span class="DataType_DEFAULT DataType">&quot;</span><span class="DataType_DEFAULT DataType">)</span></code></pre><h2 id="@report_heap_allocs_in_scope">@report_heap_allocs_in_scope</h2>Run the tracking allocator in the scope, then<br/>print out stats.<br/><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_BUILTIN_TYPE DataType">void</span> <span class="DataType_FUNCTION DataType">@report_heap_allocs_in_scope</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_IDENT DataType">$enabled</span> <span class="DataType_DEFAULT DataType">=</span> <span class="DataType_KEYWORD DataType">true</span><span class="DataType_DEFAULT DataType">;</span> <span class="DataType_FUNCTION DataType">@body</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_DEFAULT DataType">)</span><span class="DataType_DEFAULT DataType">)</span></code></pre><h2 id="move">move</h2>Copy memory from src to dst but correctly handle the possibility of overlapping ranges.<br/><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_BUILTIN_TYPE DataType">void</span> <span class="DataType_FUNCTION DataType">move</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_BUILTIN_TYPE DataType">void</span><span class="DataType_DEFAULT DataType">*</span> <span class="DataType_IDENT DataType">dst</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">void</span><span class="DataType_DEFAULT DataType">*</span> <span class="DataType_IDENT DataType">src</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">len</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">$dst_align</span> <span class="DataType_DEFAULT DataType">=</span> <span class="DataType_NUMBER DataType">0</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">$src_align</span> <span class="DataType_DEFAULT DataType">=</span> <span class="DataType_NUMBER DataType">0</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">bool</span> <span class="DataType_IDENT DataType">$is_volatile</span> <span class="DataType_DEFAULT DataType">=</span> <span class="DataType_KEYWORD DataType">false</span><span class="DataType_DEFAULT DataType">)</span></code></pre><h2 id="trealloc">trealloc</h2><pre><code><span class="DataType_KEYWORD DataType">fn</span> <span class="DataType_BUILTIN_TYPE DataType">void</span><span class="DataType_DEFAULT DataType">*</span> <span class="DataType_FUNCTION DataType">trealloc</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_BUILTIN_TYPE DataType">void</span><span class="DataType_DEFAULT DataType">*</span> <span class="DataType_IDENT DataType">ptr</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">size</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">alignment</span> <span class="DataType_DEFAULT DataType">=</span> <span class="DataType_PATH DataType">mem::</span><span class="DataType_CONST DataType">DEFAULT_MEM_ALIGNMENT</span><span class="DataType_DEFAULT DataType">)</span> <span class="DataType_IDENT DataType">@builtin</span> <span class="DataType_IDENT DataType">@inline</span> <span class="DataType_IDENT DataType">@nodiscard</span></code></pre><h2 id="@clone_aligned">@clone_aligned</h2><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_FUNCTION DataType">@clone_aligned</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_IDENT DataType">value</span><span class="DataType_DEFAULT DataType">)</span> <span class="DataType_IDENT DataType">@builtin</span> <span class="DataType_IDENT DataType">@nodiscard</span></code></pre><h2 id="new_aligned">new_aligned</h2>Allocate using an aligned allocation. This is necessary for types with a default memory alignment<br/>exceeding DEFAULT_MEM_ALIGNMENT. IMPORTANT! It must be freed using free_aligned.<br/><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_FUNCTION DataType">new_aligned</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_DEFAULT DataType">$Type</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_DEFAULT DataType">...</span><span class="DataType_DEFAULT DataType">)</span> <span class="DataType_IDENT DataType">@nodiscard</span></code></pre><h2 id="aligned_offset">aligned_offset</h2><pre><code><span class="DataType_KEYWORD DataType">fn</span> <span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_FUNCTION DataType">aligned_offset</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">offset</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">alignment</span><span class="DataType_DEFAULT DataType">)</span></code></pre><h2 id="get_tracking_env">get_tracking_env</h2><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_TYPE DataType">TrackingEnv</span><span class="DataType_DEFAULT DataType">*</span> <span class="DataType_FUNCTION DataType">get_tracking_env</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_DEFAULT DataType">)</span></code></pre><h2 id="free">free</h2><pre><code><span class="DataType_KEYWORD DataType">fn</span> <span class="DataType_BUILTIN_TYPE DataType">void</span> <span class="DataType_FUNCTION DataType">free</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_BUILTIN_TYPE DataType">void</span><span class="DataType_DEFAULT DataType">*</span> <span class="DataType_IDENT DataType">ptr</span><span class="DataType_DEFAULT DataType">)</span> <span class="DataType_IDENT DataType">@builtin</span> <span class="DataType_IDENT DataType">@inline</span></code></pre><h2 id="talloc_array">talloc_array</h2><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_FUNCTION DataType">talloc_array</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_DEFAULT DataType">$Type</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">elements</span><span class="DataType_DEFAULT DataType">)</span> <span class="DataType_IDENT DataType">@nodiscard</span></code></pre><h2 id="new">new</h2><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_FUNCTION DataType">new</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_DEFAULT DataType">$Type</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_DEFAULT DataType">...</span><span class="DataType_DEFAULT DataType">)</span> <span class="DataType_IDENT DataType">@nodiscard</span></code></pre><h2 id="new_array_aligned">new_array_aligned</h2>Allocate using an aligned allocation. This is necessary for types with a default memory alignment<br/>exceeding DEFAULT_MEM_ALIGNMENT. IMPORTANT! It must be freed using free_aligned.<br/><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_FUNCTION DataType">new_array_aligned</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_DEFAULT DataType">$Type</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">elements</span><span class="DataType_DEFAULT DataType">)</span> <span class="DataType_IDENT DataType">@nodiscard</span></code></pre><h2 id="@atomic_load">@atomic_load</h2><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_FUNCTION DataType">@atomic_load</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_IDENT DataType">#x</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_TYPE DataType">AtomicOrdering</span> <span class="DataType_IDENT DataType">$ordering</span> <span class="DataType_DEFAULT DataType">=</span> <span class="DataType_CONST DataType">SEQ_CONSISTENT</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_IDENT DataType">$volatile</span> <span class="DataType_DEFAULT DataType">=</span> <span class="DataType_KEYWORD DataType">false</span><span class="DataType_DEFAULT DataType">)</span> <span class="DataType_IDENT DataType">@builtin</span></code></pre><h2 id="set">set</h2>Sets all memory in a region to that of the provided byte.<br/><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_BUILTIN_TYPE DataType">void</span> <span class="DataType_FUNCTION DataType">set</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_BUILTIN_TYPE DataType">void</span><span class="DataType_DEFAULT DataType">*</span> <span class="DataType_IDENT DataType">dst</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">char</span> <span class="DataType_IDENT DataType">val</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">len</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">$dst_align</span> <span class="DataType_DEFAULT DataType">=</span> <span class="DataType_NUMBER DataType">0</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">bool</span> <span class="DataType_IDENT DataType">$is_volatile</span> <span class="DataType_DEFAULT DataType">=</span> <span class="DataType_KEYWORD DataType">false</span><span class="DataType_DEFAULT DataType">)</span></code></pre><h2 id="@scoped">@scoped</h2>Run with a specific allocator inside of the macro body.<br/><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_BUILTIN_TYPE DataType">void</span> <span class="DataType_FUNCTION DataType">@scoped</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_TYPE DataType">Allocator</span> <span class="DataType_IDENT DataType">allocator</span><span class="DataType_DEFAULT DataType">;</span> <span class="DataType_FUNCTION DataType">@body</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_DEFAULT DataType">)</span><span class="DataType_DEFAULT DataType">)</span></code></pre><h2 id="@clone_slice">@clone_slice</h2><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_FUNCTION DataType">@clone_slice</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_IDENT DataType">value</span><span class="DataType_DEFAULT DataType">)</span> <span class="DataType_IDENT DataType">@builtin</span> <span class="DataType_IDENT DataType">@nodiscard</span></code></pre><h2 id="@volatile_load">@volatile_load</h2><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_FUNCTION DataType">@volatile_load</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_IDENT DataType">#x</span><span class="DataType_DEFAULT DataType">)</span> <span class="DataType_IDENT DataType">@builtin</span></code></pre><h2 id="@assert_leak">@assert_leak</h2>Assert on memory leak in the scope of the macro body.<br/><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_BUILTIN_TYPE DataType">void</span> <span class="DataType_FUNCTION DataType">@assert_leak</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_IDENT DataType">$report</span> <span class="DataType_DEFAULT DataType">=</span> <span class="DataType_KEYWORD DataType">true</span><span class="DataType_DEFAULT DataType">;</span> <span class="DataType_FUNCTION DataType">@body</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_DEFAULT DataType">)</span><span class="DataType_DEFAULT DataType">)</span> <span class="DataType_IDENT DataType">@builtin</span></code></pre><h2 id="ptr_is_aligned">ptr_is_aligned</h2><pre><code><span class="DataType_KEYWORD DataType">fn</span> <span class="DataType_BUILTIN_TYPE DataType">bool</span> <span class="DataType_FUNCTION DataType">ptr_is_aligned</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_BUILTIN_TYPE DataType">void</span><span class="DataType_DEFAULT DataType">*</span> <span class="DataType_IDENT DataType">ptr</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">alignment</span><span class="DataType_DEFAULT DataType">)</span> <span class="DataType_IDENT DataType">@inline</span></code></pre><h2 id="compare_exchange_volatile">compare_exchange_volatile</h2><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_FUNCTION DataType">compare_exchange_volatile</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_IDENT DataType">ptr</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_IDENT DataType">compare</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_IDENT DataType">value</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_TYPE DataType">AtomicOrdering</span> <span class="DataType_IDENT DataType">$success</span> <span class="DataType_DEFAULT DataType">=</span> <span class="DataType_CONST DataType">SEQ_CONSISTENT</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_TYPE DataType">AtomicOrdering</span> <span class="DataType_IDENT DataType">$failure</span> <span class="DataType_DEFAULT DataType">=</span> <span class="DataType_CONST DataType">SEQ_CONSISTENT</span><span class="DataType_DEFAULT DataType">)</span></code></pre><h2 id="temp_array">temp_array</h2><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_FUNCTION DataType">temp_array</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_DEFAULT DataType">$Type</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">elements</span><span class="DataType_DEFAULT DataType">)</span> <span class="DataType_IDENT DataType">@nodiscard</span></code></pre><h2 id="alloc_with_padding">alloc_with_padding</h2><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_FUNCTION DataType">alloc_with_padding</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_DEFAULT DataType">$Type</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">padding</span><span class="DataType_DEFAULT DataType">)</span> <span class="DataType_IDENT DataType">@nodiscard</span></code></pre><h2 id="@clone">@clone</h2><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_FUNCTION DataType">@clone</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_IDENT DataType">value</span><span class="DataType_DEFAULT DataType">)</span> <span class="DataType_IDENT DataType">@builtin</span> <span class="DataType_IDENT DataType">@nodiscard</span></code></pre><h2 id="alloc_array">alloc_array</h2><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_FUNCTION DataType">alloc_array</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_DEFAULT DataType">$Type</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">elements</span><span class="DataType_DEFAULT DataType">)</span> <span class="DataType_IDENT DataType">@nodiscard</span></code></pre><h2 id="alloc_array_aligned">alloc_array_aligned</h2>Allocate using an aligned allocation. This is necessary for types with a default memory alignment<br/>exceeding DEFAULT_MEM_ALIGNMENT. IMPORTANT! It must be freed using free_aligned.<br/><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_FUNCTION DataType">alloc_array_aligned</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_DEFAULT DataType">$Type</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">elements</span><span class="DataType_DEFAULT DataType">)</span> <span class="DataType_IDENT DataType">@nodiscard</span></code></pre><h2 id="new_with_padding">new_with_padding</h2><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_FUNCTION DataType">new_with_padding</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_DEFAULT DataType">$Type</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">padding</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_DEFAULT DataType">...</span><span class="DataType_DEFAULT DataType">)</span> <span class="DataType_IDENT DataType">@nodiscard</span></code></pre><h2 id="@masked_store_aligned">@masked_store_aligned</h2><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_FUNCTION DataType">@masked_store_aligned</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_IDENT DataType">ptr</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_IDENT DataType">value</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">bool</span><span class="DataType_DEFAULT DataType">[&lt;</span><span class="DataType_DEFAULT DataType">*</span><span class="DataType_DEFAULT DataType">&gt;]</span> <span class="DataType_IDENT DataType">mask</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">$alignment</span><span class="DataType_DEFAULT DataType">)</span></code></pre><h2 id="os_pagesize">os_pagesize</h2><pre><code><span class="DataType_KEYWORD DataType">fn</span> <span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_FUNCTION DataType">os_pagesize</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_DEFAULT DataType">)</span></code></pre><h2 id="@scatter_aligned">@scatter_aligned</h2><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_FUNCTION DataType">@scatter_aligned</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_IDENT DataType">ptrvec</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_IDENT DataType">value</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">bool</span><span class="DataType_DEFAULT DataType">[&lt;</span><span class="DataType_DEFAULT DataType">*</span><span class="DataType_DEFAULT DataType">&gt;]</span> <span class="DataType_IDENT DataType">mask</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">$alignment</span><span class="DataType_DEFAULT DataType">)</span></code></pre><h2 id="realloc_aligned">realloc_aligned</h2><pre><code><span class="DataType_KEYWORD DataType">fn</span> <span class="DataType_BUILTIN_TYPE DataType">void</span><span class="DataType_DEFAULT DataType">*</span> <span class="DataType_FUNCTION DataType">realloc_aligned</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_BUILTIN_TYPE DataType">void</span> <span class="DataType_DEFAULT DataType">*</span><span class="DataType_IDENT DataType">ptr</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">new_size</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">alignment</span><span class="DataType_DEFAULT DataType">)</span> <span class="DataType_IDENT DataType">@builtin</span> <span class="DataType_IDENT DataType">@inline</span> <span class="DataType_IDENT DataType">@nodiscard</span></code></pre><h2 id="temp_pop">temp_pop</h2>Pop the current temp allocator. A pop must always be balanced with a push.<br/><pre><code><span class="DataType_KEYWORD DataType">fn</span> <span class="DataType_BUILTIN_TYPE DataType">void</span> <span class="DataType_FUNCTION DataType">temp_pop</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_TYPE DataType">PoolState</span> <span class="DataType_IDENT DataType">old_state</span><span class="DataType_DEFAULT DataType">)</span></code></pre><h2 id="talloc_with_padding">talloc_with_padding</h2><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_FUNCTION DataType">talloc_with_padding</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_DEFAULT DataType">$Type</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">padding</span><span class="DataType_DEFAULT DataType">)</span> <span class="DataType_IDENT DataType">@nodiscard</span></code></pre><h2 id="@volatile_store">@volatile_store</h2><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_FUNCTION DataType">@volatile_store</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_IDENT DataType">#x</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_IDENT DataType">value</span><span class="DataType_DEFAULT DataType">)</span> <span class="DataType_IDENT DataType">@builtin</span></code></pre><h2 id="calloc">calloc</h2><pre><code><span class="DataType_KEYWORD DataType">fn</span> <span class="DataType_BUILTIN_TYPE DataType">void</span><span class="DataType_DEFAULT DataType">*</span> <span class="DataType_FUNCTION DataType">calloc</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">size</span><span class="DataType_DEFAULT DataType">)</span> <span class="DataType_IDENT DataType">@builtin</span> <span class="DataType_IDENT DataType">@inline</span> <span class="DataType_IDENT DataType">@nodiscard</span></code></pre><h2 id="zero_volatile">zero_volatile</h2><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_BUILTIN_TYPE DataType">void</span> <span class="DataType_FUNCTION DataType">zero_volatile</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_BUILTIN_TYPE DataType">char</span><span class="DataType_DEFAULT DataType">[</span><span class="DataType_DEFAULT DataType">]</span> <span class="DataType_IDENT DataType">data</span><span class="DataType_DEFAULT DataType">)</span></code></pre><h2 id="clear">clear</h2><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_BUILTIN_TYPE DataType">void</span> <span class="DataType_FUNCTION DataType">clear</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_BUILTIN_TYPE DataType">void</span><span class="DataType_DEFAULT DataType">*</span> <span class="DataType_IDENT DataType">dst</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">len</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">$dst_align</span> <span class="DataType_DEFAULT DataType">=</span> <span class="DataType_NUMBER DataType">0</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">bool</span> <span class="DataType_IDENT DataType">$is_volatile</span> <span class="DataType_DEFAULT DataType">=</span> <span class="DataType_KEYWORD DataType">false</span><span class="DataType_DEFAULT DataType">)</span></code></pre><h2 id="copy">copy</h2>Copy memory from src to dst efficiently, assuming the memory ranges do not overlap.<br/><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_BUILTIN_TYPE DataType">void</span> <span class="DataType_FUNCTION DataType">copy</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_BUILTIN_TYPE DataType">void</span><span class="DataType_DEFAULT DataType">*</span> <span class="DataType_IDENT DataType">dst</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">void</span><span class="DataType_DEFAULT DataType">*</span> <span class="DataType_IDENT DataType">src</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">len</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">$dst_align</span> <span class="DataType_DEFAULT DataType">=</span> <span class="DataType_NUMBER DataType">0</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">$src_align</span> <span class="DataType_DEFAULT DataType">=</span> <span class="DataType_NUMBER DataType">0</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">bool</span> <span class="DataType_IDENT DataType">$is_volatile</span> <span class="DataType_DEFAULT DataType">=</span> <span class="DataType_KEYWORD DataType">false</span><span class="DataType_DEFAULT DataType">)</span></code></pre><h2 id="masked_load">masked_load</h2>Load a vector from memory according to a mask assuming default alignment.<br/><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_FUNCTION DataType">masked_load</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_IDENT DataType">ptr</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">bool</span><span class="DataType_DEFAULT DataType">[&lt;</span><span class="DataType_DEFAULT DataType">*</span><span class="DataType_DEFAULT DataType">&gt;]</span> <span class="DataType_IDENT DataType">mask</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_IDENT DataType">passthru</span><span class="DataType_DEFAULT DataType">)</span></code></pre><h2 id="@pool">@pool</h2>Create a new temporary allocator.<br/><br/>The `reserve` parameter allows you to determine how many bytes should be reserved for<br/>allocations on the current temporary allocator, if allocations are made inside of the pool scope.<br/>It is made available for optimization, and can usually be ignored.<br/><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_BUILTIN_TYPE DataType">void</span> <span class="DataType_FUNCTION DataType">@pool</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">reserve</span> <span class="DataType_DEFAULT DataType">=</span> <span class="DataType_NUMBER DataType">0</span><span class="DataType_DEFAULT DataType">;</span> <span class="DataType_IDENT DataType">@body</span><span class="DataType_DEFAULT DataType">)</span> <span class="DataType_IDENT DataType">@builtin</span></code></pre><h2 id="@atomic_store">@atomic_store</h2><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_BUILTIN_TYPE DataType">void</span> <span class="DataType_FUNCTION DataType">@atomic_store</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_IDENT DataType">#x</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_IDENT DataType">value</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_TYPE DataType">AtomicOrdering</span> <span class="DataType_IDENT DataType">$ordering</span> <span class="DataType_DEFAULT DataType">=</span> <span class="DataType_CONST DataType">SEQ_CONSISTENT</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_IDENT DataType">$volatile</span> <span class="DataType_DEFAULT DataType">=</span> <span class="DataType_KEYWORD DataType">false</span><span class="DataType_DEFAULT DataType">)</span> <span class="DataType_IDENT DataType">@builtin</span></code></pre><h2 id="temp_with_padding">temp_with_padding</h2><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_FUNCTION DataType">temp_with_padding</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_DEFAULT DataType">$Type</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">padding</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_DEFAULT DataType">...</span><span class="DataType_DEFAULT DataType">)</span> <span class="DataType_IDENT DataType">@nodiscard</span></code></pre><h2 id="gather">gather</h2>Load values from a pointer vector, assuming default alignment.<br/><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_FUNCTION DataType">gather</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_IDENT DataType">ptrvec</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">bool</span><span class="DataType_DEFAULT DataType">[&lt;</span><span class="DataType_DEFAULT DataType">*</span><span class="DataType_DEFAULT DataType">&gt;]</span> <span class="DataType_IDENT DataType">mask</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_IDENT DataType">passthru</span><span class="DataType_DEFAULT DataType">)</span></code></pre><h2 id="@unaligned_load">@unaligned_load</h2><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_FUNCTION DataType">@unaligned_load</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_IDENT DataType">#x</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">$alignment</span><span class="DataType_DEFAULT DataType">)</span> <span class="DataType_IDENT DataType">@builtin</span></code></pre><h2 id="@stack_mem">@stack_mem</h2>Allocate [size] bytes on the stack to use for allocation,<br/>with the heap allocator as the backing allocator.<br/><br/>Release everything on scope exit.<br/><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_BUILTIN_TYPE DataType">void</span> <span class="DataType_FUNCTION DataType">@stack_mem</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">$size</span><span class="DataType_DEFAULT DataType">;</span> <span class="DataType_FUNCTION DataType">@body</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_TYPE DataType">Allocator</span> <span class="DataType_IDENT DataType">mem</span><span class="DataType_DEFAULT DataType">)</span><span class="DataType_DEFAULT DataType">)</span> <span class="DataType_IDENT DataType">@builtin</span></code></pre><h2 id="ptr_is_page_aligned">ptr_is_page_aligned</h2><pre><code><span class="DataType_KEYWORD DataType">fn</span> <span class="DataType_BUILTIN_TYPE DataType">bool</span> <span class="DataType_FUNCTION DataType">ptr_is_page_aligned</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_BUILTIN_TYPE DataType">void</span><span class="DataType_DEFAULT DataType">*</span> <span class="DataType_IDENT DataType">ptr</span><span class="DataType_DEFAULT DataType">)</span> <span class="DataType_IDENT DataType">@inline</span></code></pre><h2 id="talloc">talloc</h2><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_FUNCTION DataType">talloc</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_DEFAULT DataType">$Type</span><span class="DataType_DEFAULT DataType">)</span> <span class="DataType_IDENT DataType">@nodiscard</span></code></pre><h2 id="@tclone">@tclone</h2><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_FUNCTION DataType">@tclone</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_IDENT DataType">value</span><span class="DataType_DEFAULT DataType">)</span> <span class="DataType_IDENT DataType">@builtin</span> <span class="DataType_IDENT DataType">@nodiscard</span></code></pre><h2 id="__memset">__memset</h2><pre><code><span class="DataType_KEYWORD DataType">fn</span> <span class="DataType_BUILTIN_TYPE DataType">void</span><span class="DataType_DEFAULT DataType">*</span> <span class="DataType_FUNCTION DataType">__memset</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_BUILTIN_TYPE DataType">void</span><span class="DataType_DEFAULT DataType">*</span> <span class="DataType_IDENT DataType">str</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_TYPE DataType">CInt</span> <span class="DataType_IDENT DataType">c</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">n</span><span class="DataType_DEFAULT DataType">)</span> <span class="DataType_IDENT DataType">@weak</span> <span class="DataType_FUNCTION DataType">@export</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_DEFAULT DataType">&quot;</span><span class="DataType_DEFAULT DataType">memset</span><span class="DataType_DEFAULT DataType">&quot;</span><span class="DataType_DEFAULT DataType">)</span></code></pre><h2 id="@gather_aligned">@gather_aligned</h2>Load values from a pointer vector.<br/><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_FUNCTION DataType">@gather_aligned</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_IDENT DataType">ptrvec</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">bool</span><span class="DataType_DEFAULT DataType">[&lt;</span><span class="DataType_DEFAULT DataType">*</span><span class="DataType_DEFAULT DataType">&gt;]</span> <span class="DataType_IDENT DataType">mask</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_IDENT DataType">passthru</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">$alignment</span><span class="DataType_DEFAULT DataType">)</span></code></pre><h2 id="__memcmp">__memcmp</h2><pre><code><span class="DataType_KEYWORD DataType">fn</span> <span class="DataType_TYPE DataType">CInt</span> <span class="DataType_FUNCTION DataType">__memcmp</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_BUILTIN_TYPE DataType">void</span><span class="DataType_DEFAULT DataType">*</span> <span class="DataType_IDENT DataType">s1</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">void</span><span class="DataType_DEFAULT DataType">*</span> <span class="DataType_IDENT DataType">s2</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">n</span><span class="DataType_DEFAULT DataType">)</span> <span class="DataType_IDENT DataType">@weak</span> <span class="DataType_FUNCTION DataType">@export</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_DEFAULT DataType">&quot;</span><span class="DataType_DEFAULT DataType">memcmp</span><span class="DataType_DEFAULT DataType">&quot;</span><span class="DataType_DEFAULT DataType">)</span></code></pre><h2 id="compare_exchange">compare_exchange</h2><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_FUNCTION DataType">compare_exchange</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_IDENT DataType">ptr</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_IDENT DataType">compare</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_IDENT DataType">value</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_TYPE DataType">AtomicOrdering</span> <span class="DataType_IDENT DataType">$success</span> <span class="DataType_DEFAULT DataType">=</span> <span class="DataType_CONST DataType">SEQ_CONSISTENT</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_TYPE DataType">AtomicOrdering</span> <span class="DataType_IDENT DataType">$failure</span> <span class="DataType_DEFAULT DataType">=</span> <span class="DataType_CONST DataType">SEQ_CONSISTENT</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">bool</span> <span class="DataType_IDENT DataType">$volatile</span> <span class="DataType_DEFAULT DataType">=</span> <span class="DataType_KEYWORD DataType">true</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">bool</span> <span class="DataType_IDENT DataType">$weak</span> <span class="DataType_DEFAULT DataType">=</span> <span class="DataType_KEYWORD DataType">false</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">$alignment</span> <span class="DataType_DEFAULT DataType">=</span> <span class="DataType_NUMBER DataType">0</span><span class="DataType_DEFAULT DataType">)</span></code></pre><h2 id="scatter">scatter</h2><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_FUNCTION DataType">scatter</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_IDENT DataType">ptrvec</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_IDENT DataType">value</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">bool</span><span class="DataType_DEFAULT DataType">[&lt;</span><span class="DataType_DEFAULT DataType">*</span><span class="DataType_DEFAULT DataType">&gt;]</span> <span class="DataType_IDENT DataType">mask</span><span class="DataType_DEFAULT DataType">)</span></code></pre><h2 id="@unaligned_addr">@unaligned_addr</h2>Takes the address of a possibly unaligned variable or member,<br/>and offers safe access to that member, by constructing an UnalignedRef.<br/><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_FUNCTION DataType">@unaligned_addr</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_IDENT DataType">#arg</span><span class="DataType_DEFAULT DataType">)</span> <span class="DataType_IDENT DataType">@builtin</span></code></pre><h2 id="tcalloc">tcalloc</h2><pre><code><span class="DataType_KEYWORD DataType">fn</span> <span class="DataType_BUILTIN_TYPE DataType">void</span><span class="DataType_DEFAULT DataType">*</span> <span class="DataType_FUNCTION DataType">tcalloc</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">size</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">alignment</span> <span class="DataType_DEFAULT DataType">=</span> <span class="DataType_NUMBER DataType">0</span><span class="DataType_DEFAULT DataType">)</span> <span class="DataType_IDENT DataType">@builtin</span> <span class="DataType_IDENT DataType">@inline</span> <span class="DataType_IDENT DataType">@nodiscard</span></code></pre><h2 id="malloc">malloc</h2><pre><code><span class="DataType_KEYWORD DataType">fn</span> <span class="DataType_BUILTIN_TYPE DataType">void</span><span class="DataType_DEFAULT DataType">*</span> <span class="DataType_FUNCTION DataType">malloc</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_BUILTIN_TYPE DataType">usz</span> <span class="DataType_IDENT DataType">size</span><span class="DataType_DEFAULT DataType">)</span> <span class="DataType_IDENT DataType">@builtin</span> <span class="DataType_IDENT DataType">@inline</span> <span class="DataType_IDENT DataType">@nodiscard</span></code></pre><h2 id="alloc">alloc</h2><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_FUNCTION DataType">alloc</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_DEFAULT DataType">$Type</span><span class="DataType_DEFAULT DataType">)</span> <span class="DataType_IDENT DataType">@nodiscard</span></code></pre><h2 id="alloc_aligned">alloc_aligned</h2>Allocate using an aligned allocation. This is necessary for types with a default memory alignment<br/>exceeding DEFAULT_MEM_ALIGNMENT. IMPORTANT! It must be freed using free_aligned.<br/><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_FUNCTION DataType">alloc_aligned</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_DEFAULT DataType">$Type</span><span class="DataType_DEFAULT DataType">)</span> <span class="DataType_IDENT DataType">@nodiscard</span></code></pre><h2 id="temp_push">temp_push</h2>Push the current temp allocator. A push must always be balanced with a pop using the current state.<br/><pre><code><span class="DataType_KEYWORD DataType">fn</span> <span class="DataType_TYPE DataType">PoolState</span> <span class="DataType_FUNCTION DataType">temp_push</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_DEFAULT DataType">)</span></code></pre><h1>Private</h1><h2 id="initialize_wasm_mem">initialize_wasm_mem</h2><pre><code><span class="DataType_KEYWORD DataType">fn</span> <span class="DataType_BUILTIN_TYPE DataType">void</span> <span class="DataType_FUNCTION DataType">initialize_wasm_mem</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_DEFAULT DataType">)</span> <span class="DataType_FUNCTION DataType">@init</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_NUMBER DataType">1024</span><span class="DataType_DEFAULT DataType">)</span> <span class="DataType_IDENT DataType">@private</span></code></pre><h2 id="@constant_is_power_of_2">@constant_is_power_of_2</h2><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_BUILTIN_TYPE DataType">bool</span> <span class="DataType_FUNCTION DataType">@constant_is_power_of_2</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_IDENT DataType">$x</span><span class="DataType_DEFAULT DataType">)</span> <span class="DataType_IDENT DataType">@const</span> <span class="DataType_IDENT DataType">@private</span></code></pre></body></html>