<!DOCTYPE html><html><head><link rel="stylesheet" href="../../../../style.css"><script src="../../../../main.js"></script></head><body><div class="main"><div class="module_path"><h1><a href="../../../../std/index.html" target="_parent">std</a>::<a href="../../../../std/core/index.html" target="_parent">core</a>::<a href="../../../../std/core/mem/index.html" target="_parent">mem</a>::<span style="font-family: 'monospace'">rc</span></h1></div><h1>RefCounted</h1>A RefCounted struct should be an inline base of a struct.<br/>If a `dealloc` is defined, then it will be called rather than `free`<br/><br/>For convenience, a ref count of 0 is still valid, and the struct is<br/>only freed when when ref count drops to -1.<br/><br/>The macros rc::retain and rc::release must be used on the full pointer,<br/>not on the RefCounted substruct.<br/><br/>So `Foo* f = ...; RefCounted* rc = f; rc::release(rc);` will not do the right thing.<br/></div></body></html>