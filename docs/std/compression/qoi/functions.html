<!DOCTYPE html><html style = "font-family:'0xProto Nerd Font'"><head><link rel="stylesheet" href="../../../style.css"></head><body><h2 class="header"><a href="../../../std/compression/qoi/index.html">Overview</a>&nbsp<a href="../../../std/compression/qoi/globals.html">Globals</a>&nbsp<a href="../../../std/compression/qoi/types.html">Types</a>&nbsp<span class="selected">Functions</span>&nbsp<a href="../../../std/compression/qoi/type.%s.html">Type</a>&nbsp</h2><div class="module_path"><h1><a href="../../../std/index.html">std</a>::<a href="../../../std/compression/index.html">compression</a>::<span style="font-family: 'monospace'">qoi</span></h1></div><h1>Public</h1><h2 id="read">read</h2>Read and decode a QOI image from the file system.If channels is set to QOIChannels.AUTO, the function willautomatically determine the channels from the file&apos;s header.However, if channels is RGB or RGBA, the output format will beforced into this number of channels.The desc struct will be filled with the width, height,channels and colorspace of the image.The function returns an optional, which can either be a QOIErroror a char[] pointing to the decoded pixels on success.The returned pixel data should be free()d after use, or the decodingand use of the data should be wrapped in a @pool() { ... }; block.<pre><code><span class="DataType_KEYWORD DataType">fn</span> <span class="DataType_BUILTIN_TYPE DataType">char</span><span class="DataType_DEFAULT DataType">[</span><span class="DataType_DEFAULT DataType">]</span><span class="DataType_DEFAULT DataType">?</span> <span class="DataType_FUNCTION DataType">read</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_TYPE DataType">Allocator</span> <span class="DataType_IDENT DataType">allocator</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_TYPE DataType">String</span> <span class="DataType_IDENT DataType">filename</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_TYPE DataType">QOIDesc</span><span class="DataType_DEFAULT DataType">*</span> <span class="DataType_IDENT DataType">desc</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_TYPE DataType">QOIChannels</span> <span class="DataType_IDENT DataType">channels</span> <span class="DataType_DEFAULT DataType">=</span> <span class="DataType_CONST DataType">AUTO</span><span class="DataType_DEFAULT DataType">)</span></code></pre><h2 id="@extract">@extract</h2><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_FUNCTION DataType">@extract</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_DEFAULT DataType">$Type</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">char</span><span class="DataType_DEFAULT DataType">[</span><span class="DataType_DEFAULT DataType">]</span> <span class="DataType_IDENT DataType">data</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">uint</span><span class="DataType_DEFAULT DataType">*</span> <span class="DataType_IDENT DataType">pos</span><span class="DataType_DEFAULT DataType">)</span></code></pre><h2 id="decode">decode</h2>Decode a QOI image from memory.If channels is set to QOIChannels.AUTO, the function willautomatically determine the channels from the file&apos;s header.However, if channels is RGB or RGBA, the output format will beforced into this number of channels.The desc struct will be filled with the width, height,channels and colorspace of the image.The function returns an optional, which can either be a QOIErroror a char[] pointing to the decoded pixels on success.The returned pixel data should be free()d after use, or the decodingand use of the data should be wrapped in a @pool() { ... }; block.<pre><code><span class="DataType_KEYWORD DataType">fn</span> <span class="DataType_BUILTIN_TYPE DataType">char</span><span class="DataType_DEFAULT DataType">[</span><span class="DataType_DEFAULT DataType">]</span><span class="DataType_DEFAULT DataType">?</span> <span class="DataType_FUNCTION DataType">decode</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_TYPE DataType">Allocator</span> <span class="DataType_IDENT DataType">allocator</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">char</span><span class="DataType_DEFAULT DataType">[</span><span class="DataType_DEFAULT DataType">]</span> <span class="DataType_IDENT DataType">data</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_TYPE DataType">QOIDesc</span><span class="DataType_DEFAULT DataType">*</span> <span class="DataType_IDENT DataType">desc</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_TYPE DataType">QOIChannels</span> <span class="DataType_IDENT DataType">channels</span> <span class="DataType_DEFAULT DataType">=</span> <span class="DataType_CONST DataType">AUTO</span><span class="DataType_DEFAULT DataType">)</span> <span class="DataType_IDENT DataType">@nodiscard</span></code></pre><h2 id="write">write</h2>Encode raw RGB or RGBA pixels into a QOI image and write it to thefile system.The desc struct must be filled with the image width, height, theused channels (QOIChannels.RGB or RGBA) and the colorspace(QOIColorspace.SRGB or LINEAR).The function returns an optional, which can either be a QOIErroror the number of bytes written on success.<pre><code><span class="DataType_KEYWORD DataType">fn</span> <span class="DataType_BUILTIN_TYPE DataType">usz</span><span class="DataType_DEFAULT DataType">?</span> <span class="DataType_FUNCTION DataType">write</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_TYPE DataType">String</span> <span class="DataType_IDENT DataType">filename</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">char</span><span class="DataType_DEFAULT DataType">[</span><span class="DataType_DEFAULT DataType">]</span> <span class="DataType_IDENT DataType">input</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_TYPE DataType">QOIDesc</span><span class="DataType_DEFAULT DataType">*</span> <span class="DataType_IDENT DataType">desc</span><span class="DataType_DEFAULT DataType">)</span></code></pre><h2 id="encode">encode</h2>Encode raw RGB or RGBA pixels into a QOI image in memory.The function returns an optional, which can either be a QOIErroror a char[] pointing to the encoded data on success.The returned qoi data should be free()d after use, or the encodingand use of the data should be wrapped in a @pool() { ... }; block.See the write() function for an example.<pre><code><span class="DataType_KEYWORD DataType">fn</span> <span class="DataType_BUILTIN_TYPE DataType">char</span><span class="DataType_DEFAULT DataType">[</span><span class="DataType_DEFAULT DataType">]</span><span class="DataType_DEFAULT DataType">?</span> <span class="DataType_FUNCTION DataType">encode</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_TYPE DataType">Allocator</span> <span class="DataType_IDENT DataType">allocator</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_BUILTIN_TYPE DataType">char</span><span class="DataType_DEFAULT DataType">[</span><span class="DataType_DEFAULT DataType">]</span> <span class="DataType_IDENT DataType">input</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_TYPE DataType">QOIDesc</span><span class="DataType_DEFAULT DataType">*</span> <span class="DataType_IDENT DataType">desc</span><span class="DataType_DEFAULT DataType">)</span> <span class="DataType_IDENT DataType">@nodiscard</span></code></pre><h2 id="@enumcast">@enumcast</h2><pre><code><span class="DataType_KEYWORD DataType">macro</span> <span class="DataType_FUNCTION DataType">@enumcast</span><span class="DataType_DEFAULT DataType">(</span><span class="DataType_DEFAULT DataType">$Type</span><span class="DataType_DEFAULT DataType">,</span> <span class="DataType_IDENT DataType">raw</span><span class="DataType_DEFAULT DataType">)</span></code></pre></body></html>